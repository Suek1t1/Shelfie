{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>検索結果</h1>

    {# 検索結果があった場合 #}
    {% if books %}
        <p class="results-summary">{{ books|length }}件見つかりました。</p>

        <div class="results-list">
            {% for book in books %}
                <a href="{{ url_for('book_detail', book_id=book.book_id) }}" class="result-item">
                    <img src="{{ url_for('serve_image', book_id=book.book_id) }}" alt="{{ book.name }}">
                    <div>
                        <p><strong>タイトル:</strong> {{ book.name }}</p>
                        <p><strong>著者:</strong> {{ book.author }}</p>
                        <p><strong>ISBNコード:</strong> {{ book.code }}</p>
                    </div>
                </a>
            {% endfor %}
        </div>
    
    {# 検索結果がなかった場合 #}
    {% else %}
        <p class="no-results">該当する書籍は見つかりませんでした。</p>
    {% endif %}

    <a class="btn-back" href="{{ url_for('search_book') }}">検索画面に戻る</a>
</div>
{% endblock %}