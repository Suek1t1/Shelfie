<!doctype html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8" />
    <title>Shelfie</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
  </head>
  <body>
    <header>
        <li>
            <a class="nav-link active" aria-current="page" href="{{url_for('search_book')}}">検索</a>
        </li>
        <li>
            <a class="nav-link" href="{{url_for('new_book')}}">登録</a>
        </li>
        <li>
            <a class="nav-link" href="edit.html">感想</a>
        </li>
        <li>
            <a class="nav-link" href="{{url_for('index')}}">ホーム</a>
        </li>
    </header>

    <main>
        {% block title %}
            <h1>Shelfie</h1>
        {% endblock %}
        {% block content %}
            トップページや、詳細ページが入る
        {% endblock %}
    </main>

    <footer>
        <h2>知能情報基礎演習Ⅱ 7班 DeveLoop</h2>
    </footer>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div aria-live="polite" aria-atomic="true" class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999;">
                {% for category, message in messages %}
                    <div class="toast align-items-center text-bg-{{ 'success' if category == 'success' else 'secondary' }} border-0 show" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                            {{ message }}
                            </div>
                            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}


    <!-- Bootstrap JS CDN追加 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // トーストを自動で表示
      document.querySelectorAll('.toast').forEach(function(toastEl) {
        var toast = new bootstrap.Toast(toastEl, { delay: 3000 });
        toast.show();
      });
    </script>
  </body>
</html>

